{% load static %}

{% load widget_tweaks %}

{% load crispy_forms_tags %}

<table class="table documents-table">
	<!-- Header -->
	<div class="list-header">
		<div class="list-title">
			<!-- <span>Trainings </span> -->
			<div data-title="Add new training"
			     class="add-button modal-trigger"
			     data-modal="create-project-modal">
				<i class="material-icons">add</i>
			</div>
			<form method="get">
				<div class="row">
					<div class="form-group col-sm-4 col-md-3">
						Title:
						{% render_field trainings_filter.form.title class="input form-control" placeholder="Search..." %}
					</div>
					<div class="form-group col-sm-4 col-md-3">
						Training types:
						{% render_field trainings_filter.form.training_type class="input form-control" %}
					</div>
					<div class="form-group col-sm-4 col-md-3">
						Completed:
						{% render_field trainings_filter.form.completed class="input form-control" %}
					</div>
				</div>
				<button type="submit" class="button btn-dash primary-btn btn-dash raised has-icon">
					<span class="glyphicon glyphicon-search"></span> Apply
				</button>
			</form>
		</div>
	</div>
	<thead>
	<tr>
		<th></th>
		<th>
			<div class="b-checkbox is-secondary">
				<input id="checkbox-docs-all" class="styled" type="checkbox">
				<label for="checkbox-docs-all"></label>
			</div>
		</th>
		<th class="w-30">
			<!-- Filter dropdown Name-->
			<div class="dropdown filter-dropdown dropdown-trigger">
				<div class="button">
					<span>Title</span>
					<i class="material-icons">keyboard_arrow_down</i>
				</div>

				<div class="dropdown-menu" role="menu">
					<div class="dropdown-content">
						<div class="dropdown-item filter-title">
							Order
						</div>
						<a href="#" class="dropdown-item">
							<span><i class="fa fa-check"></i> Ascending</span>
						</a>
						<a class="dropdown-item">
							<span><i class="fa fa-check"></i> Descending</span>
						</a>
					</div>
				</div>
			</div>
		</th>
		<th>
			<!-- Filter dropdown Project-->
			<div class="dropdown filter-dropdown dropdown-trigger">
				<div class="button">
					<span>Training Type</span>
					<i class="material-icons">keyboard_arrow_down</i>
				</div>

				<div class="dropdown-menu" role="menu">
					<div class="dropdown-content">
						<div class="dropdown-item filter-title">
							Types
						</div>
					</div>
				</div>
			</div>
		</th>

		<th>
			<!-- Filter dropdown Members-->
			<div class="dropdown filter-dropdown dropdown-trigger">
				<div class="button">
					<span>Start date</span>
					<i class="material-icons">keyboard_arrow_down</i>
				</div>

				<div class="dropdown-menu" role="menu">
					<div class="dropdown-content">
						<div class="dropdown-item filter-title">
							Order
						</div>
						<a href="javascript:void(0);" class="dropdown-item">
							<span><i class="fa fa-check"></i> Ascending</span>
						</a>
					</div>
				</div>
			</div>
		</th>

		<th>
			<!-- Filter dropdown Date Registered-->
			<div class="dropdown filter-dropdown dropdown-trigger">
				<div class="button">
					<span>End date</span>
					<i class="material-icons">keyboard_arrow_down</i>
				</div>

				<div class="dropdown-menu" role="menu">
					<div class="dropdown-content">
						<div class="dropdown-item filter-title">
							Order
						</div>
						<a href="javascript:void(0);" class="dropdown-item">
							<span><i class="fa fa-check"></i> Ascending</span>
						</a>
						<a href="javascript:void(0);" class="dropdown-item">
							<span><i class="fa fa-check"></i> Descending</span>
						</a>
					</div>
				</div>
			</div>
		</th>

		<th>
			<!-- Filter dropdown Date End date-->
			<div class="dropdown filter-dropdown dropdown-trigger">
				<div class="button">
					<span>Completed</span>
					<i class="material-icons">keyboard_arrow_down</i>
				</div>

				<div class="dropdown-menu" role="menu">
					<div class="dropdown-content">
						<div class="dropdown-item filter-title">
							Order
						</div>
					</div>
				</div>
			</div>
		</th>

		<th>
			<!-- Filter dropdown Date End date-->
			<div class="dropdown filter-dropdown dropdown-trigger">
				<div class="button">
					<span>Moderator</span>
					<i class="material-icons">keyboard_arrow_down</i>
				</div>

				<div class="dropdown-menu" role="menu">
					<div class="dropdown-content">
						<div class="dropdown-item filter-title">
							Order
						</div>
						<a href="javascript:void(0);" class="dropdown-item">
							<span><i class="fa fa-check"></i> Size</span>
						</a>
					</div>
				</div>
			</div>
		</th>

		<th class="w-5">
			<!-- Filter dropdown -->
			<div class="dropdown filter-dropdown is-right dropdown-trigger">
				<div class="button">
					<span class="material-icons">subject</span>
					<i class="material-icons">keyboard_arrow_down</i>
				</div>

				<div class="dropdown-menu" role="menu">
					<div class="dropdown-content">
						<div class="dropdown-item filter-title">
							View type
						</div>
						<a href="#" class="dropdown-item is-spaced is-active">
							<span><i class="fa fa-check"></i> List view</span>
							<i class="material-icons">view_list</i>
						</a>
						<a class="dropdown-item is-spaced">
							<span><i class="fa fa-check"></i> Grid view</span>
							<i class="material-icons">view_module</i>
						</a>
					</div>
				</div>
			</div>
		</th>

	</tr>
	</thead>
	<!-- Body -->
	<style>
        .members {
            color: gray;
        }
	</style>

	<tbody>
	<!-- Training table rows -->
	{% for training in trainings_filter.qs %}
	<td></td>
	<td>
		<div class="b-checkbox is-secondary">
			<input id="checkbox-docs-10" class="styled" type="checkbox">
			<label for="checkbox-docs-10"></label>
		</div>
	</td>

	<td class="members">
         <span class="inner">
	         <span class="member-count"
	               data-toggle="tooltip"
	               data-placement="top"
	               data-title="Training title"
	               data-trigger="hover">
		         {{ training.title|truncatechars:24 }}
	         </span>
         </span>
	</td>
	<!-- Row Entry for training type-->
	<td class="members">
		<span class="inner">
			<span class="member-count"
			      data-toggle="tooltip"
			      data-placement="top"
			      data-title="Training type"
			      data-trigger="hover">
				{{ training.training_type|truncatechars:24 }}
			</span>
		</span>
	</td>

	<!-- Row Entry for start date-->
	<td class="members">
		<span class="inner">
			<span class="member-count" data-toggle="tooltip"
			      data-placement="top"
			      data-title="Training start date"
			      data-trigger="hover">
				{{ training.start_date }}
			</span>
		</span>
	</td>

	<td class="members">
		<span class="inner">
			<span class="member-count" data-toggle="tooltip"
			      data-placement="top"
			      data-title="Training end date"
			      data-trigger="hover">
				{{ training.end_date }}
			</span>
		</span>
	</td>

	<td class="members">
		<span class="inner">
			<span class="member-count" data-toggle="tooltip"
			      data-placement="top"
			      data-title=""
			      data-trigger="hover">
				{% if training.completed  %}
				<small>yes</small>
				{% else %}
				<small>no</small>
				{% endif %}
			</span>
		</span>
	</td>

	<td class="members">
		<span class="inner">
			<span class="member-count" data-toggle="tooltip"
			      data-placement="top"
			      data-title="Number of moderators"
			      data-trigger="hover">
				{{training.moderator|truncatechars:24}}
			</span>
		</span>
	</td>

	<td class="actions">
		<div class="dropdown is-right dropdown-trigger document-list-dropdown">
			<div class="button">
				<i class="material-icons">more_horiz</i>
			</div>
			{% include 'includes/sub_project_training_actions.html' %}
		</div>
	</td>

	</tr>
	{% endfor %}
	</tbody>
</table>

{% block javascripts %}
<script>
    let origin = location.origin;
    const delay_by_in_ms = 700

    function populateForm(url) {
        $.get(url, function (data) {
            console.log(data)
            $('#form-populator-id').append(data)
            $("subproject-training-entry-form").attr('action', url)
        });
    }

    function filterTrainings(event) {
        event.preventDefault();
        const training_div = $('#training-content')
	    training_div.fadeTo('slow', 1)
    }

</script>
{% endblock javascripts %}

